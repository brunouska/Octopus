<?xml version="1.0" encoding="UTF-8"?>
<pmd-cpd>
    <duplication lines="16" tokens="113">
        <file line="55"
              path="/Users/scan/Desenvolvimento/Projetos/Octopus/Utils/src/main/java/br/com/riteris/octopus/utils/NumberTools.java"/>
        <file line="143"
              path="/Users/scan/Desenvolvimento/Projetos/Octopus/Utils/src/main/java/br/com/riteris/octopus/utils/NumberTools.java"/>
        <codefragment><![CDATA[    public static BigDecimal averageWithPeakExchange( Collection< BigDecimal > numbers, int precision, BigDecimal
			peakLimit ) {
        if ( CollectionAndMapTools.collectionIsNullOrEmpty( numbers ) || precision < 0 || ( peakLimit == null ||
				peakLimit.doubleValue() < 0 ) ) {
            return null;
        }

        BigDecimal simpleAverage = NumberTools.simpleAverage( numbers, precision );

        if( simpleAverage == null ) return null;

        BigDecimal limitFactor = simpleAverage.multiply( peakLimit.divide( BigDecimal.valueOf( 100 ), 2, BigDecimal.ROUND_HALF_UP ) );
        BigDecimal minimumLimit = simpleAverage.subtract( limitFactor );
        BigDecimal maximumLimit = simpleAverage.add( limitFactor );

        BigDecimal sum = BigDecimal.ZERO;]]></codefragment>
    </duplication>
</pmd-cpd>